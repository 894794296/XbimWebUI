export const worker = "!function(t,r){for(var e in r)t[e]=r[e]}(this,function(t){var r={};function e(I){if(r[I])return r[I].exports;var n=r[I]={i:I,l:!1,exports:{}};return t[I].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=r,e.d=function(t,r,I){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:I})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p=\"\",e(e.s=7)}([function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=function(){return function(){}}();r.Message=I,function(t){t[t.PROGRESS=0]=\"PROGRESS\",t[t.COMPLETED=1]=\"COMPLETED\",t[t.FAILED=2]=\"FAILED\"}(r.MessageType||(r.MessageType={}))},function(t,r,e){\"use strict\";var I;Object.defineProperty(r,\"__esModule\",{value:!0}),function(t){t[t.UNDEFINED=255]=\"UNDEFINED\",t[t.HIDDEN=254]=\"HIDDEN\",t[t.HIGHLIGHTED=253]=\"HIGHLIGHTED\",t[t.XRAYVISIBLE=252]=\"XRAYVISIBLE\",t[t.PICKING_ONLY=251]=\"PICKING_ONLY\",t[t.UNSTYLED=225]=\"UNSTYLED\"}(I=r.State||(r.State={}));var n=function(){function t(){}return t.getPriority=function(t){switch(t){case I.HIGHLIGHTED:return 1;case I.PICKING_ONLY:return 2;case I.HIDDEN:return 3;case I.XRAYVISIBLE:return 4;default:return 100}},t.getHighestPriority=function(t){var r=this;if(null==t||0===t.length)return null;if(1===t.length)return t[0];var e=t.map(function(t){return{state:t,priority:r.getPriority(t)}});e.sort(function(t,r){return t.priority-r.priority});var n=e[0];return n.priority>50?I.UNDEFINED:n.state},t}();r.StatePriorities=n},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=e(0),n=function(){function t(){this._buffer=null,this._view=null,this._position=0,this._progress=function(t){},this._lastProgress=0}return Object.defineProperty(t.prototype,\"Position\",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.getSubReader=function(r){var e=new t,I=this._buffer.slice(this._position,this._position+r);return e.load(I,null,null),this._position+=r,e},t.prototype.load=function(t,r,e){this._position=0;var n=this;if(e=e||function(t){},this._progress=e,void 0===t||null==t)throw\"Source must be defined\";if(\"string\"==typeof t){var E=new XMLHttpRequest;E.open(\"GET\",t,!0),E.onreadystatechange=function(){if(4==E.readyState&&200==E.status){var t=new FileReader;t.onloadend=function(){t.result&&\"string\"!=typeof t.result&&(n._buffer=t.result,n._view=new DataView(n._buffer),n.onloaded&&n.onloaded(n))},t.onprogress=function(t){e({message:\"Downloading geometry\",percent:Math.floor(t.loaded/t.total*100),type:I.MessageType.PROGRESS})},t.readAsArrayBuffer(E.response)}if(4==E.readyState&&200!=E.status){var r=\"Failed to fetch binary data from server. Server code: \"+E.status+\". This might be due to CORS policy of your browser if you run this as a local file.\";throw e({message:\"Downloading geometry\",percent:0,type:I.MessageType.FAILED}),n.onerror&&n.onerror(r),r}},E.responseType=\"blob\",null!=r&&Object.keys(r).forEach(function(t){var e=r[t];E.setRequestHeader(t,e)}),E.send()}else if(t instanceof Blob||t instanceof File){var C=new FileReader;C.onloadend=function(){C.result&&\"string\"!=typeof C.result&&(n._buffer=C.result,n._view=new DataView(n._buffer),n.onloaded&&n.onloaded(n))},C.onprogress=function(t){e({message:\"Loading binary data\",percent:Math.floor(t.loaded/t.total*100),type:I.MessageType.PROGRESS})},C.readAsArrayBuffer(t)}else t instanceof ArrayBuffer&&(this._buffer=t,this._view=new DataView(n._buffer),n.onloaded&&n.onloaded(n))},t.prototype.seek=function(t){if(t<0||t>this._buffer.byteLength)throw\"Position out of range.\";this._position=t},t.prototype.isEOF=function(){if(null==this._position)throw\"Position is not defined\";return this._position==this._buffer.byteLength},t.prototype.readArray=function(t,r,e){null==r&&(r=1);var I=t*r,n=this._position;return this._position+=I,this.reportProgress(),1===r?new e(this._buffer.slice(n,n+I))[0]:new e(this._buffer.slice(n,n+I))},t.prototype.move=function(t){var r=this._position;return this._position+=t,this.reportProgress(),r},t.prototype.reportProgress=function(){null!=this._progress&&this._position-this._lastProgress>5e5&&(this._lastProgress=this._position,this._progress({type:I.MessageType.PROGRESS,message:\"Processing data\",percent:Math.floor(100*this._position/this._buffer.byteLength)}))},t.prototype.readByte=function(){return this.readUint8()},t.prototype.readByteArray=function(t){return this.readUint8Array(t)},t.prototype.readUint8=function(){var t=this.move(1);return this._view.getUint8(t)},t.prototype.readUint8Array=function(t){return this.readArray(1,t,Uint8Array)},t.prototype.readInt16=function(){var t=this.move(2);return this._view.getInt16(t,!0)},t.prototype.readInt16Array=function(t){return this.readArray(2,t,Int16Array)},t.prototype.readUInt16=function(){var t=this.move(2);return this._view.getUint16(t,!0)},t.prototype.readUint16Array=function(t){return this.readArray(2,t,Uint16Array)},t.prototype.readInt32=function(){var t=this.move(4);return this._view.getInt32(t,!0)},t.prototype.readInt32Array=function(t){return this.readArray(4,t,Int32Array)},t.prototype.readUint32=function(){var t=this.move(4);return this._view.getUint32(t,!0)},t.prototype.readUint32Array=function(t){return this.readArray(4,t,Uint32Array)},t.prototype.readFloat32=function(){var t=this.move(4);return this._view.getFloat32(t,!0)},t.prototype.readFloat32Array=function(t){return this.readArray(4,t,Float32Array)},t.prototype.readFloat64=function(){var t=this.move(8);return this._view.getFloat64(t,!0)},t.prototype.readFloat64Array=function(t){return this.readArray(8,t,Float64Array)},t.prototype.readChar=function(t){null==t&&(t=1);var r=this.readByteArray(t),e=new Array(t);for(var I in r)e[I]=String.fromCharCode(r[I]);return 1===t?e[0]:e},t.prototype.readPoint=function(t){null==t&&(t=1);for(var r=this.readFloat32Array(3*t),e=new Array(t),I=0;I<t;I++){var n=3*I*4,E=new Float32Array(r.buffer,n,3);e[I]=E}return 1===t?e[0]:e},t.prototype.readRgba=function(t){null==t&&(t=1);for(var r=this.readByteArray(4*t),e=new Array(t),I=0;I<t;I++){var n=4*I,E=new Uint8Array(r.buffer,n,4);e[I]=E}return 1===t?e[0]:e},t.prototype.readPackedNormal=function(t){null==t&&(t=1);for(var r=this.readUint8Array(2*t),e=new Array(t),I=0;I<t;I++){var n=new Uint8Array(r.buffer,2*I,2);e[I]=n}return 1===t?e[0]:e},t.prototype.readMatrix4x4=function(t){null==t&&(t=1);for(var r=this.readFloat32Array(16*t),e=new Array(t),I=0;I<t;I++){var n=16*I*4,E=new Float32Array(r.buffer,n,16);e[I]=E}return 1===t?e[0]:e},t.prototype.readMatrix4x4_64=function(t){null==t&&(t=1);for(var r=this.readFloat64Array(16*t),e=new Array(t),I=0;I<t;I++){var n=16*I*8,E=new Float64Array(r.buffer,n,16);e[I]=E}return 1===t?e[0]:e},t.prototype.readData=function(t){var r=this.move(t);return this._buffer.slice(r,r+t)},t}();r.BinaryReader=n},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=e(1),n=function(){function t(){this.states=[]}return t.clone=function(r){var e=new t;return e.productID=r.productID,e.renderId,r.renderId,e.type=r.type,e.bBox=new Float32Array(r.bBox),e.spans=r.spans,e.states=r.states.slice(0),e},t.addState=function(t,r){null==t.states.find(function(t){return t==r})&&t.states.push(r)},t.removeState=function(t,r){var e=t.states.indexOf(r);e<0||t.states.splice(e,1)},t.getState=function(t){return null==t.states||0===t.states.length?I.State.UNDEFINED:I.StatePriorities.getHighestPriority(t.states)},t}();r.ProductMap=n},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),function(t){t[t.IFCPRODUCT=20]=\"IFCPRODUCT\",t[t.IFCELEMENT=19]=\"IFCELEMENT\",t[t.IFCBUILDINGELEMENT=26]=\"IFCBUILDINGELEMENT\",t[t.IFCFOOTING=120]=\"IFCFOOTING\",t[t.IFCPILE=572]=\"IFCPILE\",t[t.IFCBEAM=171]=\"IFCBEAM\",t[t.IFCBEAMSTANDARDCASE=1104]=\"IFCBEAMSTANDARDCASE\",t[t.IFCBUILDINGELEMENTPROXY=560]=\"IFCBUILDINGELEMENTPROXY\",t[t.IFCCHIMNEY=1120]=\"IFCCHIMNEY\",t[t.IFCCOLUMN=383]=\"IFCCOLUMN\",t[t.IFCCOLUMNSTANDARDCASE=1126]=\"IFCCOLUMNSTANDARDCASE\",t[t.IFCCOVERING=382]=\"IFCCOVERING\",t[t.IFCCURTAINWALL=456]=\"IFCCURTAINWALL\",t[t.IFCDOOR=213]=\"IFCDOOR\",t[t.IFCDOORSTANDARDCASE=1151]=\"IFCDOORSTANDARDCASE\",t[t.IFCMEMBER=310]=\"IFCMEMBER\",t[t.IFCMEMBERSTANDARDCASE=1214]=\"IFCMEMBERSTANDARDCASE\",t[t.IFCPLATE=351]=\"IFCPLATE\",t[t.IFCPLATESTANDARDCASE=1224]=\"IFCPLATESTANDARDCASE\",t[t.IFCRAILING=350]=\"IFCRAILING\",t[t.IFCRAMP=414]=\"IFCRAMP\",t[t.IFCRAMPFLIGHT=348]=\"IFCRAMPFLIGHT\",t[t.IFCROOF=347]=\"IFCROOF\",t[t.IFCSHADINGDEVICE=1265]=\"IFCSHADINGDEVICE\",t[t.IFCSLAB=99]=\"IFCSLAB\",t[t.IFCSLABELEMENTEDCASE=1268]=\"IFCSLABELEMENTEDCASE\",t[t.IFCSLABSTANDARDCASE=1269]=\"IFCSLABSTANDARDCASE\",t[t.IFCSTAIR=346]=\"IFCSTAIR\",t[t.IFCSTAIRFLIGHT=25]=\"IFCSTAIRFLIGHT\",t[t.IFCWALL=452]=\"IFCWALL\",t[t.IFCWALLELEMENTEDCASE=1314]=\"IFCWALLELEMENTEDCASE\",t[t.IFCWALLSTANDARDCASE=453]=\"IFCWALLSTANDARDCASE\",t[t.IFCWINDOW=667]=\"IFCWINDOW\",t[t.IFCWINDOWSTANDARDCASE=1316]=\"IFCWINDOWSTANDARDCASE\",t[t.IFCELEMENTCOMPONENT=424]=\"IFCELEMENTCOMPONENT\",t[t.IFCREINFORCINGELEMENT=262]=\"IFCREINFORCINGELEMENT\",t[t.IFCREINFORCINGBAR=571]=\"IFCREINFORCINGBAR\",t[t.IFCREINFORCINGMESH=531]=\"IFCREINFORCINGMESH\",t[t.IFCTENDON=261]=\"IFCTENDON\",t[t.IFCTENDONANCHOR=675]=\"IFCTENDONANCHOR\",t[t.IFCBUILDINGELEMENTPART=220]=\"IFCBUILDINGELEMENTPART\",t[t.IFCDISCRETEACCESSORY=423]=\"IFCDISCRETEACCESSORY\",t[t.IFCFASTENER=535]=\"IFCFASTENER\",t[t.IFCMECHANICALFASTENER=536]=\"IFCMECHANICALFASTENER\",t[t.IFCVIBRATIONISOLATOR=1312]=\"IFCVIBRATIONISOLATOR\",t[t.IFCFEATUREELEMENT=386]=\"IFCFEATUREELEMENT\",t[t.IFCSURFACEFEATURE=1287]=\"IFCSURFACEFEATURE\",t[t.IFCFEATUREELEMENTSUBTRACTION=499]=\"IFCFEATUREELEMENTSUBTRACTION\",t[t.IFCVOIDINGFEATURE=1313]=\"IFCVOIDINGFEATURE\",t[t.IFCOPENINGELEMENT=498]=\"IFCOPENINGELEMENT\",t[t.IFCOPENINGSTANDARDCASE=1217]=\"IFCOPENINGSTANDARDCASE\",t[t.IFCFEATUREELEMENTADDITION=385]=\"IFCFEATUREELEMENTADDITION\",t[t.IFCPROJECTIONELEMENT=384]=\"IFCPROJECTIONELEMENT\",t[t.IFCFURNISHINGELEMENT=253]=\"IFCFURNISHINGELEMENT\",t[t.IFCFURNITURE=1184]=\"IFCFURNITURE\",t[t.IFCSYSTEMFURNITUREELEMENT=1291]=\"IFCSYSTEMFURNITUREELEMENT\",t[t.IFCDISTRIBUTIONELEMENT=44]=\"IFCDISTRIBUTIONELEMENT\",t[t.IFCDISTRIBUTIONFLOWELEMENT=45]=\"IFCDISTRIBUTIONFLOWELEMENT\",t[t.IFCDISTRIBUTIONCHAMBERELEMENT=180]=\"IFCDISTRIBUTIONCHAMBERELEMENT\",t[t.IFCENERGYCONVERSIONDEVICE=175]=\"IFCENERGYCONVERSIONDEVICE\",t[t.IFCAIRTOAIRHEATRECOVERY=1097]=\"IFCAIRTOAIRHEATRECOVERY\",t[t.IFCBOILER=1105]=\"IFCBOILER\",t[t.IFCBURNER=1109]=\"IFCBURNER\",t[t.IFCCHILLER=1119]=\"IFCCHILLER\",t[t.IFCCOIL=1124]=\"IFCCOIL\",t[t.IFCCONDENSER=1132]=\"IFCCONDENSER\",t[t.IFCCOOLEDBEAM=1141]=\"IFCCOOLEDBEAM\",t[t.IFCCOOLINGTOWER=1142]=\"IFCCOOLINGTOWER\",t[t.IFCENGINE=1164]=\"IFCENGINE\",t[t.IFCEVAPORATIVECOOLER=1166]=\"IFCEVAPORATIVECOOLER\",t[t.IFCEVAPORATOR=1167]=\"IFCEVAPORATOR\",t[t.IFCHEATEXCHANGER=1187]=\"IFCHEATEXCHANGER\",t[t.IFCHUMIDIFIER=1188]=\"IFCHUMIDIFIER\",t[t.IFCTUBEBUNDLE=1305]=\"IFCTUBEBUNDLE\",t[t.IFCUNITARYEQUIPMENT=1310]=\"IFCUNITARYEQUIPMENT\",t[t.IFCELECTRICGENERATOR=1160]=\"IFCELECTRICGENERATOR\",t[t.IFCELECTRICMOTOR=1161]=\"IFCELECTRICMOTOR\",t[t.IFCMOTORCONNECTION=1216]=\"IFCMOTORCONNECTION\",t[t.IFCSOLARDEVICE=1270]=\"IFCSOLARDEVICE\",t[t.IFCTRANSFORMER=1303]=\"IFCTRANSFORMER\",t[t.IFCFLOWCONTROLLER=121]=\"IFCFLOWCONTROLLER\",t[t.IFCAIRTERMINALBOX=1096]=\"IFCAIRTERMINALBOX\",t[t.IFCDAMPER=1148]=\"IFCDAMPER\",t[t.IFCFLOWMETER=1182]=\"IFCFLOWMETER\",t[t.IFCVALVE=1311]=\"IFCVALVE\",t[t.IFCELECTRICDISTRIBUTIONBOARD=1157]=\"IFCELECTRICDISTRIBUTIONBOARD\",t[t.IFCELECTRICTIMECONTROL=1162]=\"IFCELECTRICTIMECONTROL\",t[t.IFCPROTECTIVEDEVICE=1235]=\"IFCPROTECTIVEDEVICE\",t[t.IFCSWITCHINGDEVICE=1290]=\"IFCSWITCHINGDEVICE\",t[t.IFCFLOWFITTING=467]=\"IFCFLOWFITTING\",t[t.IFCDUCTFITTING=1153]=\"IFCDUCTFITTING\",t[t.IFCPIPEFITTING=1222]=\"IFCPIPEFITTING\",t[t.IFCCABLECARRIERFITTING=1111]=\"IFCCABLECARRIERFITTING\",t[t.IFCCABLEFITTING=1113]=\"IFCCABLEFITTING\",t[t.IFCJUNCTIONBOX=1195]=\"IFCJUNCTIONBOX\",t[t.IFCFLOWMOVINGDEVICE=502]=\"IFCFLOWMOVINGDEVICE\",t[t.IFCCOMPRESSOR=1131]=\"IFCCOMPRESSOR\",t[t.IFCFAN=1177]=\"IFCFAN\",t[t.IFCPUMP=1238]=\"IFCPUMP\",t[t.IFCFLOWSEGMENT=574]=\"IFCFLOWSEGMENT\",t[t.IFCDUCTSEGMENT=1154]=\"IFCDUCTSEGMENT\",t[t.IFCPIPESEGMENT=1223]=\"IFCPIPESEGMENT\",t[t.IFCCABLECARRIERSEGMENT=1112]=\"IFCCABLECARRIERSEGMENT\",t[t.IFCCABLESEGMENT=1115]=\"IFCCABLESEGMENT\",t[t.IFCFLOWSTORAGEDEVICE=371]=\"IFCFLOWSTORAGEDEVICE\",t[t.IFCTANK=1293]=\"IFCTANK\",t[t.IFCELECTRICFLOWSTORAGEDEVICE=1159]=\"IFCELECTRICFLOWSTORAGEDEVICE\",t[t.IFCFLOWTERMINAL=46]=\"IFCFLOWTERMINAL\",t[t.IFCFIRESUPPRESSIONTERMINAL=1179]=\"IFCFIRESUPPRESSIONTERMINAL\",t[t.IFCSANITARYTERMINAL=1262]=\"IFCSANITARYTERMINAL\",t[t.IFCSTACKTERMINAL=1277]=\"IFCSTACKTERMINAL\",t[t.IFCWASTETERMINAL=1315]=\"IFCWASTETERMINAL\",t[t.IFCAIRTERMINAL=1095]=\"IFCAIRTERMINAL\",t[t.IFCMEDICALDEVICE=1212]=\"IFCMEDICALDEVICE\",t[t.IFCSPACEHEATER=1272]=\"IFCSPACEHEATER\",t[t.IFCAUDIOVISUALAPPLIANCE=1099]=\"IFCAUDIOVISUALAPPLIANCE\",t[t.IFCCOMMUNICATIONSAPPLIANCE=1127]=\"IFCCOMMUNICATIONSAPPLIANCE\",t[t.IFCELECTRICAPPLIANCE=1156]=\"IFCELECTRICAPPLIANCE\",t[t.IFCLAMP=1198]=\"IFCLAMP\",t[t.IFCLIGHTFIXTURE=1199]=\"IFCLIGHTFIXTURE\",t[t.IFCOUTLET=1219]=\"IFCOUTLET\",t[t.IFCFLOWTREATMENTDEVICE=425]=\"IFCFLOWTREATMENTDEVICE\",t[t.IFCINTERCEPTOR=1193]=\"IFCINTERCEPTOR\",t[t.IFCDUCTSILENCER=1155]=\"IFCDUCTSILENCER\",t[t.IFCFILTER=1178]=\"IFCFILTER\",t[t.IFCDISTRIBUTIONCONTROLELEMENT=468]=\"IFCDISTRIBUTIONCONTROLELEMENT\",t[t.IFCPROTECTIVEDEVICETRIPPINGUNIT=1236]=\"IFCPROTECTIVEDEVICETRIPPINGUNIT\",t[t.IFCACTUATOR=1091]=\"IFCACTUATOR\",t[t.IFCALARM=1098]=\"IFCALARM\",t[t.IFCCONTROLLER=1139]=\"IFCCONTROLLER\",t[t.IFCFLOWINSTRUMENT=1181]=\"IFCFLOWINSTRUMENT\",t[t.IFCSENSOR=1264]=\"IFCSENSOR\",t[t.IFCUNITARYCONTROLELEMENT=1308]=\"IFCUNITARYCONTROLELEMENT\",t[t.IFCCIVILELEMENT=1122]=\"IFCCIVILELEMENT\",t[t.IFCELEMENTASSEMBLY=18]=\"IFCELEMENTASSEMBLY\",t[t.IFCGEOGRAPHICELEMENT=1185]=\"IFCGEOGRAPHICELEMENT\",t[t.IFCTRANSPORTELEMENT=416]=\"IFCTRANSPORTELEMENT\",t[t.IFCVIRTUALELEMENT=168]=\"IFCVIRTUALELEMENT\",t[t.IFCSTRUCTURALACTIVITY=41]=\"IFCSTRUCTURALACTIVITY\",t[t.IFCSTRUCTURALACTION=40]=\"IFCSTRUCTURALACTION\",t[t.IFCSTRUCTURALCURVEACTION=1279]=\"IFCSTRUCTURALCURVEACTION\",t[t.IFCSTRUCTURALLINEARACTION=463]=\"IFCSTRUCTURALLINEARACTION\",t[t.IFCSTRUCTURALSURFACEACTION=1284]=\"IFCSTRUCTURALSURFACEACTION\",t[t.IFCSTRUCTURALPLANARACTION=39]=\"IFCSTRUCTURALPLANARACTION\",t[t.IFCSTRUCTURALPOINTACTION=356]=\"IFCSTRUCTURALPOINTACTION\",t[t.IFCSTRUCTURALREACTION=355]=\"IFCSTRUCTURALREACTION\",t[t.IFCSTRUCTURALCURVEREACTION=1280]=\"IFCSTRUCTURALCURVEREACTION\",t[t.IFCSTRUCTURALPOINTREACTION=354]=\"IFCSTRUCTURALPOINTREACTION\",t[t.IFCSTRUCTURALSURFACEREACTION=1285]=\"IFCSTRUCTURALSURFACEREACTION\",t[t.IFCSTRUCTURALITEM=226]=\"IFCSTRUCTURALITEM\",t[t.IFCSTRUCTURALCONNECTION=265]=\"IFCSTRUCTURALCONNECTION\",t[t.IFCSTRUCTURALCURVECONNECTION=534]=\"IFCSTRUCTURALCURVECONNECTION\",t[t.IFCSTRUCTURALPOINTCONNECTION=533]=\"IFCSTRUCTURALPOINTCONNECTION\",t[t.IFCSTRUCTURALSURFACECONNECTION=264]=\"IFCSTRUCTURALSURFACECONNECTION\",t[t.IFCSTRUCTURALMEMBER=225]=\"IFCSTRUCTURALMEMBER\",t[t.IFCSTRUCTURALCURVEMEMBER=224]=\"IFCSTRUCTURALCURVEMEMBER\",t[t.IFCSTRUCTURALCURVEMEMBERVARYING=227]=\"IFCSTRUCTURALCURVEMEMBERVARYING\",t[t.IFCSTRUCTURALSURFACEMEMBER=420]=\"IFCSTRUCTURALSURFACEMEMBER\",t[t.IFCSTRUCTURALSURFACEMEMBERVARYING=421]=\"IFCSTRUCTURALSURFACEMEMBERVARYING\",t[t.IFCPORT=179]=\"IFCPORT\",t[t.IFCDISTRIBUTIONPORT=178]=\"IFCDISTRIBUTIONPORT\",t[t.IFCANNOTATION=634]=\"IFCANNOTATION\",t[t.IFCSPATIALELEMENT=1273]=\"IFCSPATIALELEMENT\",t[t.IFCSPATIALSTRUCTUREELEMENT=170]=\"IFCSPATIALSTRUCTUREELEMENT\",t[t.IFCBUILDING=169]=\"IFCBUILDING\",t[t.IFCBUILDINGSTOREY=459]=\"IFCBUILDINGSTOREY\",t[t.IFCSITE=349]=\"IFCSITE\",t[t.IFCSPACE=454]=\"IFCSPACE\",t[t.IFCEXTERNALSPATIALSTRUCTUREELEMENT=1175]=\"IFCEXTERNALSPATIALSTRUCTUREELEMENT\",t[t.IFCEXTERNALSPATIALELEMENT=1174]=\"IFCEXTERNALSPATIALELEMENT\",t[t.IFCSPATIALZONE=1275]=\"IFCSPATIALZONE\",t[t.IFCGRID=564]=\"IFCGRID\",t[t.IFCPROXY=447]=\"IFCPROXY\"}(r.ProductType||(r.ProductType={}))},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=e(2),n=function(){function t(){this.load=function(t){var r=new I.BinaryReader,e=this;r.onloaded=function(){e.parse(r),e.onloaded&&e.onloaded(this)},r.load(t,null,null)}}return t.prototype.parse=function(t){t.readByte();var r=t.readInt32(),e=t.readInt32();this.vertices=t.readFloat32Array(3*r),this.indices=new Uint32Array(3*e),this.normals=new Uint8Array(6*e);var I,n=0;I=r<=255?function(r){return t.readByteArray(r)}:r<=65535?function(r){return t.readUint16Array(r)}:function(r){return t.readInt32Array(r)};var E=t.readInt32();if(0!==r&&0!==e)for(var C=0;C<E;C++){var a=t.readInt32();if(0!=a){var o=a>0;if(a=Math.abs(a),o){var i=t.readByteArray(2),s=I(3*a);this.indices.set(s,n);for(var T=0;T<3*a;T++)this.normals[2*n]=i[0],this.normals[2*n+1]=i[1],n++}else for(T=0;T<a;T++)this.indices[n]=I(),this.normals.set(t.readByteArray(2),2*n),n++,this.indices[n]=I(),this.normals.set(t.readByteArray(2),2*n),n++,this.indices[n]=I(),this.normals.set(t.readByteArray(2),2*n),n++}}},t}();r.TriangulatedShape=n},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=e(2),n=e(5),E=e(1),C=e(4),a=e(0),o=e(3),i=function(){function t(){this.normals=new Uint8Array(0),this.indices=new Float32Array(0),this.products=new Float32Array(0),this.transformations=new Float32Array(0),this.styleIndices=new Uint16Array(0),this.states=new Uint8Array(0),this.vertices=new Float32Array(0),this.matrices=new Float32Array(0),this.styles=new Uint8Array(0),this.meter=1e3,this.wcs=[0,0,0],this._iVertex=0,this._iIndexForward=0,this._iIndexBackward=0,this._iTransform=0,this._iMatrix=0,this._maxVersionSupported=4,this.productMaps={},this.productIdLookup=[],this._styleMap=new T}return t.prototype.parse=function(t){if(t&&!t.isEOF()){this._reader=t;var r=t;if(94132117!=r.readInt32())throw new Error(\"Magic number mismatch.\");var e=r.readByte();if(e>this._maxVersionSupported)throw new Error(\"Viewer doesn't support version \"+e+\" of the wexBIM stream\");var I=r.readInt32(),E=r.readInt32(),C=r.readInt32(),i=r.readInt32(),T=r.readInt32(),F=r.readInt32();this.meter=r.readFloat32(),e>3&&(this.wcs=[r.readFloat64(),r.readFloat64(),r.readFloat64()]);var A=r.readInt16();this.vertices=new Float32Array(this.square(4,3*E)),this.normals=new Uint8Array(6*C),this.indices=new Float32Array(3*C),this.styleIndices=new Uint16Array(3*C),this.styles=new Uint8Array(this.square(1,4*(F+1))),this.products=new Float32Array(3*C),this.states=new Uint8Array(3*C*2),this.transformations=new Float32Array(3*C),this.matrices=new Float32Array(this.square(4,16*i)),this.productMaps={},this.regions=new Array(A),this._iVertex=0,this._iIndexForward=0,this._iIndexBackward=3*C,this._iTransform=0,this._iMatrix=0;for(var R=0;R<A;R++){(U=new s).population=r.readInt32(),U.centre=r.readFloat32Array(3),U.bbox=r.readFloat32Array(6),this.regions[R]=U}for(var N=0;N<F;N++){var u=r.readInt32(),L=255*r.readFloat32(),O=255*r.readFloat32(),d=255*r.readFloat32(),p=255*r.readFloat32();this.styles.set([L,O,d,p],4*N),this._styleMap.Add({id:u,index:N,transparent:p<254})}this.styles.set([255,255,255,255],4*N);var l={id:-1,index:N,transparent:!1};this._styleMap.Add(l);for(R=0;R<T;R++){var S=r.readInt32(),f=r.readInt16(),c=r.readFloat32Array(6),h=new o.ProductMap;h.productID=S,h.renderId=R+1,h.type=f,h.bBox=c,h.spans=[],this.productMaps[S]=h,this.productIdLookup[R+1]=S}if(e>=3)for(var y=0;y<A;y++)for(var U=this.regions[y],M=r.readInt32(),D=0;D<M;D++){var P=this.readShape(e),v=r.readInt32();if(0!==v){var b=r.getSubReader(v);if((B=new n.TriangulatedShape).parse(b),!b.isEOF())throw new Error(\"Incomplete reading of geometry for shape instance \"+P[0].iLabel);this.feedDataArrays(P,B)}}else for(var w=0;w<I;w++){var B,G=this.readShape(e);(B=new n.TriangulatedShape).parse(r),this.feedDataArrays(G,B)}if(!r.isEOF())throw this.progress({type:a.MessageType.FAILED,message:\"Processing data\",percent:0}),new Error(\"Binary reader is not at the end of the file.\");this.progress({type:a.MessageType.PROGRESS,message:\"Processing data\",percent:100}),this.transparentIndex=this._iIndexForward}},t.prototype.square=function(t,r){if(void 0===t||void 0===r)throw new Error('Wrong arguments for \"square\" function.');if(0==r)return 0;for(var e=r*t,I=Math.ceil(Math.sqrt(e/4));4*I%t!=0;)I++;return I*I*4/t},t.prototype.feedDataArrays=function(t,r){var e=this;t.forEach(function(t){var I=0,n=I=t.transparent?e._iIndexBackward-r.indices.length:e._iIndexForward,a=e.productMaps[t.pLabel];void 0===a&&((a=new o.ProductMap).productID=0,a.renderId=0,a.type=C.ProductType.IFCOPENINGELEMENT,a.bBox=new Float32Array(6),a.spans=[],e.productMaps[t.pLabel]=a),e.normals.set(r.normals,2*I);for(var i=a.type==C.ProductType.IFCSPACE||a.type==C.ProductType.IFCOPENINGELEMENT?E.State.HIDDEN:255,s=0;s<r.indices.length;s++)e.indices[I]=r.indices[s]+e._iVertex/3,e.products[I]=a.renderId,e.styleIndices[I]=t.style,e.transformations[I]=t.transform,e.states[2*I]=i,e.states[2*I+1]=255,I++;var T=I;a.spans.push(new Int32Array([n,T])),t.transparent?e._iIndexBackward-=r.indices.length:e._iIndexForward+=r.indices.length},this),this.vertices.set(r.vertices,this._iVertex),this._iVertex+=r.vertices.length},t.prototype.readShape=function(t){for(var r=this._reader,e=r.readInt32(),I=new Array,n=0;n<e;n++){var E=r.readInt32(),C=(r.readInt16(),r.readInt32()),a=r.readInt32(),o=null;e>1&&(o=1===t?r.readFloat32Array(16):r.readFloat64Array(16),this.matrices.set(o,this._iMatrix),this._iMatrix+=16);var i=this._styleMap.GetStyle(a);null===i&&(i=this._styleMap.GetStyle(-1)),I.push({pLabel:E,iLabel:C,style:i.index,transparent:i.transparent,transform:null!=o?this._iTransform++:-1})}return I},t.prototype.load=function(t,r,e){var n=this;this.progress=e||function(t){};var E=new I.BinaryReader,C=this;E.onloaded=function(){C.parse(E),C.onloaded&&C.onloaded(n)},E.onerror=function(t){C.onerror&&C.onerror(t)},E.load(t,r,e)},t}();r.ModelGeometry=i;var s=function(){function t(t){this.population=-1,this.centre=null,this.bbox=null,t&&(this.population=t.population,t.centre&&(this.centre=new Float32Array(t.centre)),t.bbox&&(this.bbox=new Float32Array(t.bbox)))}return t.clone=function(r){var e=new t;return e.population=r.population,r.centre&&(e.centre=new Float32Array(r.centre)),r.bbox&&(e.bbox=new Float32Array(r.bbox)),e},t.prototype.merge=function(r){if(-1===this.population&&null===this.centre&&null===this.bbox)return new t(r);var e=new t;if(e.population=this.population+r.population,this.bbox&&r.bbox){var I=Math.min(this.bbox[0],r.bbox[0]),n=Math.min(this.bbox[1],r.bbox[1]),E=Math.min(this.bbox[2],r.bbox[2]),C=Math.max(this.bbox[0]+this.bbox[3],r.bbox[0]+r.bbox[3]),a=Math.max(this.bbox[1]+this.bbox[4],r.bbox[1]+r.bbox[4]),o=Math.max(this.bbox[2]+this.bbox[5],r.bbox[2]+r.bbox[5]),i=C-I,s=a-n,T=o-E,F=(I+C)/2,A=(n+a)/2,R=(E+o)/2;e.bbox=new Float32Array([I,n,E,i,s,T]),e.centre=new Float32Array([F,A,R])}else this.bbox?(e.bbox=new Float32Array(this.bbox),e.centre=new Float32Array(this.centre)):(e.bbox=new Float32Array(r.bbox),e.centre=new Float32Array(r.centre));return e},t}();r.Region=s;var T=function(){function t(){this._internal={}}return t.prototype.Add=function(t){this._internal[t.id]=t},t.prototype.GetStyle=function(t){var r=this._internal[t];return r||null},t}()},function(t,r,e){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var I=e(0),n=e(6);if(self&&self instanceof DedicatedWorkerGlobalScope){var E=self;E.onmessage=function(t){var r=t.data.model,e=t.data.headers,C=new n.ModelGeometry;C.onerror=function(t){var r={type:I.MessageType.FAILED,message:t,percent:0};E.postMessage(r),console.error(t),E.close()},C.onloaded=function(){try{var t={},r=[];for(var e in C)if(C.hasOwnProperty(e)){var n=C[e];\"function\"==typeof n||e.startsWith(\"_\")||(t[e]=n,ArrayBuffer.isView(n)&&r.push(n.buffer))}var a={type:I.MessageType.COMPLETED,message:\"Completed\",percent:100,result:t};E.postMessage(a,r),E.close()}catch(t){a={type:I.MessageType.FAILED,message:t,percent:0};E.postMessage(a),console.error(t),E.close()}},C.load(r,e,function(t){E.postMessage(t)})}}}]));"